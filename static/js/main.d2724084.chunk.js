(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{26:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(1),r=c.n(n),a=c(18),o=c.n(a),i=c(7),l=c(2),j=c(4),u="https://pure-crag-82741.herokuapp.com/api",b=function(e,t){return fetch("".concat(u,"/projects/create"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json","user-token":t.token}}).then((function(e){return e.json()}))},d=c(3),p=c.n(d),m=c(6),O=(c(26),function(e){var t=e.setUser,c=Object(n.useState)(""),r=Object(l.a)(c,2),a=r[0],o=r[1],b=Object(n.useState)(""),d=Object(l.a)(b,2),O=d[0],x=d[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),v=h[0],N=h[1],g=Object(j.g)(),y=function(){var e=Object(m.a)(p.a.mark((function e(c){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),a&&O){e.next=7;break}return N("Cannot Leave Any Field Blank"),x(""),e.abrupt("return");case 7:N("");case 8:return s={username:a,password:O},e.next=11,Promise.resolve((r=s,fetch("".concat(u,"/user/login"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))));case 11:if(!(n=e.sent).err){e.next=17;break}return N(n.err),e.abrupt("return");case 17:localStorage.setItem("user",JSON.stringify(n.user)),t(n.user),g.push("/project");case 20:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"sign-in-div",children:[Object(s.jsx)("div",{className:"sign-in-text",children:Object(s.jsxs)("p",{children:["Sign in to ",Object(s.jsx)("span",{children:"Too-Doo"})]})}),Object(s.jsxs)("form",{className:"sign-in-form",onSubmit:y,children:[Object(s.jsx)("label",{className:"sign-in-form-text",children:"Username:"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"sign-in-form-input",type:"text",name:"username",autoComplete:"off",value:a,onChange:function(e){return o(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{className:"sign-in-form-text",children:"Password:"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"sign-in-form-input",type:"password",name:"password",autoComplete:"off",value:O,onChange:function(e){return x(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"sign-in-form-submit button",type:"submit",value:"Sign In"})]}),Object(s.jsx)("span",{style:{color:"red"},children:v||null}),Object(s.jsxs)("p",{className:"no-account-text",children:["Don't have an account?"," ",Object(s.jsx)(i.b,{className:"sign-up-link",to:"/user/signup",children:"Sign Up Here!"})]})]})}),x=function(e){var t=e.setUser,c=Object(n.useState)(""),r=Object(l.a)(c,2),a=r[0],o=r[1],b=Object(n.useState)(""),d=Object(l.a)(b,2),O=d[0],x=d[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),v=h[0],N=h[1],g=Object(n.useState)(""),y=Object(l.a)(g,2),k=y[0],w=y[1],S=Object(j.g)(),C=function(){var e=Object(m.a)(p.a.mark((function e(c){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),a&&O&&v){e.next=6;break}return w("Cannot Leave Any Field Blank"),x(""),N(""),e.abrupt("return");case 6:if(O===v){e.next=11;break}return w("Passwords Do Not Match."),x(""),N(""),e.abrupt("return");case 11:return s={username:a,password:O},e.next=14,Promise.resolve((r=s,fetch("".concat(u,"/user/create"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"}}).then((function(e){return e.json()}))));case 14:if(!(n=e.sent).err){e.next=20;break}return w(n.err),e.abrupt("return");case 20:localStorage.setItem("user",JSON.stringify(n.user)),t(n.user),S.push("/project");case 23:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"sign-in-div",children:[Object(s.jsx)("div",{className:"sign-in-text",children:Object(s.jsxs)("p",{children:["Sign up for ",Object(s.jsx)("span",{children:"Too-Doo"})]})}),Object(s.jsxs)("form",{className:"sign-in-form",onSubmit:C,children:[Object(s.jsx)("label",{className:"sign-in-form-text",children:" Username: "}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",className:"sign-in-form-input",autoComplete:"off",name:"username",value:a,onChange:function(e){return o(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{className:"sign-in-form-text",children:"Password:"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",className:"sign-in-form-input",autoComplete:"off",name:"password",value:O,onChange:function(e){return x(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{className:"sign-in-form-text",children:"Confirm Password:"})," ",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",className:"sign-in-form-input",autoComplete:"off",name:"confirmPassword",value:v,onChange:function(e){return N(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"sign-in-form-submit button",type:"submit",value:"Create Account"})]}),Object(s.jsx)("span",{style:{color:"red"},children:k||null}),Object(s.jsxs)("p",{className:"no-account-text",children:["Already have an account?"," ",Object(s.jsx)(i.b,{className:"sign-up-link",to:"/user/signin",children:"Sign In"})]})]})},f=(c(32),function(e){var t=e.project,c=e.setPDelete,n=e.setProjToDelete;return Object(s.jsxs)("div",{className:"project mw700 df-row df-space-between",children:[Object(s.jsxs)("div",{className:"project-information",children:[Object(s.jsxs)("p",{className:"project-title",children:[t.title," ",Object(s.jsx)("span",{className:"project-description",children:t.description})]}),Object(s.jsxs)("p",{className:"project-tasks",children:[t.tasks.length," Tasks"]})]}),Object(s.jsxs)("div",{className:"df-row",children:[Object(s.jsx)("div",{className:"project-link",children:Object(s.jsx)(i.b,{to:"/project/".concat(t._id),children:"View"})}),Object(s.jsx)("div",{className:"project-link",children:Object(s.jsx)("p",{href:"#",className:"project-link",onClick:function(){c(!0),n(t)},children:"Delete"})})]})]})}),h=function(e){var t=e.projToDelete,c=e.setPDelete,n=Object(j.g)(),r=t._id,a=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Promise.resolve((c=r,void fetch("".concat(u,"/projects/").concat(c,"/delete"),{method:"post",headers:{"Content-Type":"application/json"}})));case 3:setTimeout((function(){n.push("/project")}),1e3);case 4:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"delete-modal df-col",children:Object(s.jsx)("div",{className:"delete-modal-content",children:Object(s.jsxs)("form",{onSubmit:a,children:[Object(s.jsx)("label",{className:"delete-modal-label",children:"Are you Sure you want to delete this project?"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"delete-modal-button-container df-row",children:[Object(s.jsx)("input",{className:"delete-modal-button button",type:"submit",value:"Yes"}),Object(s.jsx)("input",{className:"delete-modal-button button",type:"button",value:"Cancel",onClick:function(){return c(!1)}})]})]})})})},v=function(e){var t=e.user,c=e.setPCreate,r=Object(j.g)(),a=Object(n.useState)(""),o=Object(l.a)(a,2),i=o[0],u=o[1],d=Object(n.useState)(""),O=Object(l.a)(d,2),x=O[0],f=O[1],h=function(){var e=Object(m.a)(p.a.mark((function e(s){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),n={title:i,description:x},e.next=4,Promise.resolve(b(n,t));case 4:c(!1),setTimeout((function(){return r.push("/project")}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"create-modal",children:Object(s.jsxs)("div",{className:"create-modal-content",children:[Object(s.jsx)("div",{className:"create-modal-exit",onClick:function(){return c(!1)},children:"X"}),Object(s.jsx)("div",{className:"create-modal-title",children:"Create New Project"}),Object(s.jsxs)("form",{onSubmit:h,children:[Object(s.jsx)("label",{className:"sign-in-form-text",children:"Title"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-input",type:"text",onChange:function(e){return u(e.target.value)},value:i}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{className:"sign-in-form-text",children:"Description "}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-input",type:"text",onChange:function(e){return f(e.target.value)},value:x}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-submit button",type:"submit",value:"Create"})]})]})})},N=function(e,t,c,r){var a=Object(n.useState)(null),o=Object(l.a)(a,2),i=o[0],j=o[1];Object(n.useEffect)((function(){(function(){var c=Object(m.a)(p.a.mark((function c(){return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t(!0),c.t0=j,c.next=4,Promise.resolve((s=e,fetch("".concat(u,"/projects"),{method:"get",headers:{"Content-Type":"application/json","user-token":s.token}}).then((function(e){return e.json()}))));case 4:c.t1=c.sent,(0,c.t0)(c.t1),t(!1);case 7:case"end":return c.stop()}var s}),c)})));return function(){return c.apply(this,arguments)}})()()}),[]);var b=[];for(var d in i)b.push(Object(s.jsx)(f,{project:i[d],setPDelete:c,setProjToDelete:r},d));return b},g=function(e){var t=e.user,c=Object(n.useState)(!1),r=Object(l.a)(c,2),a=r[0],o=r[1],i=Object(n.useState)(!1),j=Object(l.a)(i,2),u=j[0],b=j[1],d=Object(n.useState)(null),p=Object(l.a)(d,2),m=p[0],O=p[1],x=Object(n.useState)(!1),f=Object(l.a)(x,2),g=f[0],y=f[1],k=N(t,o,b,O);return Object(s.jsx)("div",{children:a?Object(s.jsx)("p",{children:"is loading, hold on"}):Object(s.jsxs)("div",{className:"df-col",children:[Object(s.jsxs)("div",{className:"header df-row df-space-between",children:[Object(s.jsxs)("div",{className:"user-info",children:[Object(s.jsxs)("p",{className:"welcome-text",children:["Hello ",t.username,"!"]}),Object(s.jsxs)("p",{className:"project-number",children:["You have ",k?k.length:0," projects"]})]}),Object(s.jsx)("div",{className:"create-project-button",onClick:function(){y(!0)},children:Object(s.jsx)("p",{children:"Create New Project"})})]}),u?Object(s.jsx)(h,{projToDelete:m,setPDelete:b}):null,g?Object(s.jsx)(v,{user:t,setPCreate:y}):null,Object(s.jsx)("div",{className:"df-col",children:k})]})})},y=(c(33),function(e){var t=e.task,c=e.setTaskDelete,r=e.setTaskToDelete,a=Object(n.useState)(t.completed),o=Object(l.a)(a,2),i=o[0],j=o[1],b=function(){var e;e=t,fetch("".concat(u,"/task/").concat(e._id,"/update"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})};return Object(s.jsxs)("div",{className:" task df-row",children:[Object(s.jsxs)("div",{className:"section-1 df-row",children:[Object(s.jsx)("input",{className:"task-checkbox",type:"checkbox",checked:i,onChange:function(){t.completed=!t.completed,j(t.completed),b()}}),Object(s.jsx)("div",{className:"".concat(i?"completed":null," task-desc"),children:t.description})]}),Object(s.jsxs)("div",{className:"section-2 df-row",children:[Object(s.jsxs)("div",{className:"".concat(t.priority," priority df-row"),children:[t.priority," Priority"]}),Object(s.jsx)("div",{className:"project-link",style:{width:"40%",paddingLeft:"1em",textAlign:"right",marginRight:"0"},children:Object(s.jsx)("p",{href:"#",className:"project-link",onClick:function(){c(!0),r(t)},children:"Delete"})})]})]})}),k=function(e){var t=e.projid,c=e.setTCreate,r=Object(j.g)(),a=Object(n.useState)(""),o=Object(l.a)(a,2),i=o[0],b=o[1],d=Object(n.useState)(""),O=Object(l.a)(d,2),x=O[0],f=O[1],h=function(){var e=Object(m.a)(p.a.mark((function e(c){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),s={description:i,priority:x,project:t},e.next=4,Promise.resolve((n=s,void fetch("".concat(u,"/task/").concat(n.project,"/create"),{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})));case 4:setTimeout((function(){return r.push("/project/".concat(t))}),1e3);case 5:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"create-modal",children:Object(s.jsxs)("div",{className:"create-modal-content",children:[Object(s.jsx)("div",{className:"create-modal-exit",onClick:function(){return c(!1)},children:"X"}),Object(s.jsx)("div",{className:"create-modal-title",children:"Create New Task"}),Object(s.jsxs)("form",{onSubmit:h,children:[Object(s.jsx)("label",{className:"sign-in-form-text",children:"Description"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-input",type:"text",name:"description",value:i,onChange:function(e){b(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{onChange:function(e){f(e.target.value)},children:[Object(s.jsx)("div",{className:"priority-label",children:"Priority"}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{className:"create-modal-radio-label",children:[Object(s.jsx)("input",{className:"create-modal-radio",type:"radio",name:"priority",value:"Low"}),"Low"]}),Object(s.jsxs)("label",{className:"create-modal-radio-label",children:[Object(s.jsx)("input",{className:"create-modal-radio",type:"radio",name:"priority",value:"Medium"}),"Medium"]}),Object(s.jsxs)("label",{className:"create-modal-radio-label",children:[Object(s.jsx)("input",{className:"create-modal-radio",type:"radio",name:"priority",value:"High"}),"High"]})]}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-submit button task-create-submit",type:"submit",value:"Add"})]})]})})},w=function(e){var t=e.taskToDelete,c=e.setTaskDelete,n=Object(j.g)(),r=Object(j.i)().url,a=t._id,o=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Promise.resolve((s=a,void fetch("".concat(u,"/task/").concat(s,"/delete"),{method:"post",headers:{"Content-Type":"application/json"}})));case 3:setTimeout((function(){c(!1),n.push(r)}),500);case 4:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"delete-modal df-col",children:Object(s.jsx)("div",{className:"delete-modal-content",children:Object(s.jsxs)("form",{onSubmit:o,children:[Object(s.jsx)("label",{className:"delete-modal-label",children:"Are you Sure you want to delete this task?"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"delete-modal-button-container df-row",children:[Object(s.jsx)("input",{className:"delete-modal-button button",type:"submit",value:"Yes"}),Object(s.jsx)("input",{className:"delete-modal-button button",type:"button",value:"Cancel",onClick:function(){return c(!1)}})]})]})})})},S=function(e,t){var c=Object(n.useState)(null),s=Object(l.a)(c,2),r=s[0],a=s[1];return Object(n.useEffect)((function(){(function(){var c=Object(m.a)(p.a.mark((function c(){return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(s=e,fetch("".concat(u,"/projects/").concat(s,"/getproject"),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))).then((function(e){t(!0),a(e),t(!1)}));case 2:case"end":return c.stop()}var s}),c)})));return function(){return c.apply(this,arguments)}})()()}),[e,t]),r},C=function(e,t,c,n){if(e){var r=[];for(var a in e.tasks=T(e.tasks,t),e.tasks)r.push(Object(s.jsx)(y,{task:e.tasks[a],setTaskDelete:c,setTaskToDelete:n},a));return r}},T=function(e,t){return e.sort((function(e,c){return"High"!==e.priority||"Low"!==c.priority&&"Medium"!==c.priority?"Low"!==e.priority||"High"!==c.priority&&"Medium"!==c.priority?"Medium"===e.priority&&"High"===c.priority?1===t?1:-1:"Medium"===e.priority&&"Low"===c.priority?1===t?-1:1:0:1===t?1:-1:1===t?-1:1})),e},D=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(1),o=Object(l.a)(a,2),i=o[0],u=o[1],b=Object(n.useState)(!1),d=Object(l.a)(b,2),p=d[0],m=d[1],O=Object(n.useState)(null),x=Object(l.a)(O,2),f=x[0],h=x[1],v=Object(n.useState)(!1),N=Object(l.a)(v,2),g=N[0],y=N[1],D=Object(j.h)().projid,P=S(D,r),A=C(P,i,m,h),J=Object(j.g)();return c?Object(s.jsx)("p",{children:"No Bueno"}):Object(s.jsxs)("div",{children:[g?Object(s.jsx)(k,{setTCreate:y,projid:D}):null,Object(s.jsx)("div",{className:"project-view-top",children:Object(s.jsxs)("div",{className:"df-row df-space-between mw700 center",children:[Object(s.jsx)("div",{className:"df-row ",children:Object(s.jsx)("i",{onClick:function(){J.push("/project")},className:"fas fa-arrow-left fa-3x toparrow"})}),Object(s.jsxs)("div",{className:"df-col",children:[Object(s.jsx)("p",{className:"project-view-project-title",children:P.title})," ",Object(s.jsx)("p",{className:"project-view-project-description",children:P.description})]}),Object(s.jsx)("div",{})]})}),Object(s.jsxs)("div",{className:"project-view-task-body mw700 df-col",children:[Object(s.jsxs)("div",{className:"task-body-top df-row df-space-between",children:[Object(s.jsxs)("div",{className:"section-1",children:[Object(s.jsx)("span",{className:"task-body-top-title",children:"Too-Doo Tasks"})," ",Object(s.jsxs)("span",{className:"task-body-top-count",children:["(",P.tasks.length," Tasks)"]})]}),Object(s.jsxs)("div",{className:"section-2 df-row",style:{alignItems:"flex-end"},children:[Object(s.jsxs)("div",{className:"sort-div",onClick:function(){u(1===i?-1:1),T(A,i)},children:["Sort By ",Object(s.jsx)("i",{className:"fas fa-sort"})]}),Object(s.jsx)("div",{style:{width:"fit-content",marginRight:"1em",marginBottom:".5em"},children:Object(s.jsx)("div",{className:"create-project-button",onClick:function(){return y(!0)},children:Object(s.jsx)("p",{children:"New Task"})})})]})]}),p?Object(s.jsx)(w,{setTaskDelete:m,taskToDelete:f}):null,Object(s.jsx)("div",{className:"task-container",children:A})]})]})},P=function(e){var t=e.user,c=(e.setProjects,Object(j.g)());return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"top-bar df-row",children:Object(s.jsxs)("div",{className:"topbar-content-container mw700 df-row df-space-between",children:[Object(s.jsx)("div",{children:"Too-Doo"}),Object(s.jsxs)("div",{className:"topbar-logout",onClick:function(){localStorage.clear(),c.push("/signin")},children:["Log Out ",Object(s.jsx)("i",{className:"fas fa-sign-out-alt"})]})]})}),Object(s.jsx)("div",{className:"df-col",children:Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"/project",exact:!0,component:function(){return Object(s.jsx)(g,{user:t})}}),Object(s.jsx)(j.b,{path:"/project/:id/delete",exact:!0,component:function(){return Object(s.jsx)(h,{})}}),Object(s.jsx)(j.b,{path:"/project/:projid",exact:!0,component:function(){return Object(s.jsx)(D,{})}})]})})]})},A=(c(34),function(){var e=Object(n.useState)(function(){try{return JSON.parse(localStorage.getItem("user"))}catch(e){return{err:e}}}()),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),o=Object(l.a)(a,2),i=(o[0],o[1]);return Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"/user/signin",exact:!0,component:function(){return Object(s.jsx)(O,{setUser:r})}}),Object(s.jsx)(j.b,{path:"/user/signup",exact:!0,component:function(){return Object(s.jsx)(x,{setUser:r})}}),Object(s.jsx)(j.b,{path:"/project",component:function(){return Object(s.jsx)(P,{user:c,setProjects:i})}}),Object(s.jsx)(j.a,{from:"/",to:"/user/signin"})]})});o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(i.a,{children:Object(s.jsx)(A,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.d2724084.chunk.js.map