(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(1),a=c.n(n),r=c(18),i=c.n(r),o=c(7),l=c(2),j=c(4),u="https://pure-crag-82741.herokuapp.com/api",b=function(e,t){return fetch("".concat(u,"/projects/create"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json","user-token":t.token}}).then((function(e){return e.json()}))},d=c(3),p=c.n(d),m=c(6),O=(c(26),function(){return Object(s.jsx)("div",{className:"loading-overlay",children:Object(s.jsx)("div",{className:"loading-wheel"})})}),x=(c(27),function(e){var t=e.setUser,c=Object(n.useState)(""),a=Object(l.a)(c,2),r=a[0],i=a[1],b=Object(n.useState)(""),d=Object(l.a)(b,2),x=d[0],f=d[1],h=Object(n.useState)(""),v=Object(l.a)(h,2),N=v[0],g=v[1],y=Object(n.useState)(!1),w=Object(l.a)(y,2),k=w[0],S=w[1],C=Object(j.g)(),T=function(){var e=Object(m.a)(p.a.mark((function e(c){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),r&&x){e.next=7;break}return g("Cannot Leave Any Field Blank"),f(""),e.abrupt("return");case 7:g("");case 8:return S(!0),s={username:r,password:x},e.next=12,Promise.resolve((a=s,fetch("".concat(u,"/user/login"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))));case 12:if(n=e.sent,S(!1),!n.err){e.next=20;break}return g(n.err),f(""),e.abrupt("return");case 20:localStorage.setItem("user",JSON.stringify(n.user)),t(n.user),C.push("/project");case 23:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{children:[k?Object(s.jsx)(O,{}):null,Object(s.jsxs)("div",{className:"sign-in-div",children:[Object(s.jsx)("div",{className:"sign-in-text",children:Object(s.jsxs)("p",{children:["Sign in to ",Object(s.jsx)("span",{children:"Too-Doo"})]})}),Object(s.jsxs)("form",{className:"sign-in-form",onSubmit:T,children:[Object(s.jsx)("label",{className:"sign-in-form-text",children:"Username:"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"sign-in-form-input",type:"text",name:"username",autoComplete:"off",value:r,onChange:function(e){return i(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{className:"sign-in-form-text",children:"Password:"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"sign-in-form-input",type:"password",name:"password",autoComplete:"off",value:x,onChange:function(e){return f(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"sign-in-form-submit button",type:"submit",value:"Sign In"})]}),Object(s.jsx)("span",{style:{color:"red"},children:N||null}),Object(s.jsxs)("p",{className:"no-account-text",children:["Don't have an account?"," ",Object(s.jsx)(o.b,{className:"sign-up-link",to:"/user/signup",children:"Sign Up Here!"})]})]})]})}),f=function(e){var t=e.setUser,c=Object(n.useState)(""),a=Object(l.a)(c,2),r=a[0],i=a[1],b=Object(n.useState)(""),d=Object(l.a)(b,2),x=d[0],f=d[1],h=Object(n.useState)(""),v=Object(l.a)(h,2),N=v[0],g=v[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),k=w[0],S=w[1],C=Object(n.useState)(!1),T=Object(l.a)(C,2),D=T[0],P=T[1],A=Object(j.g)(),J=function(){var e=Object(m.a)(p.a.mark((function e(c){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),r&&x&&N){e.next=6;break}return S("Cannot Leave Any Field Blank"),f(""),g(""),e.abrupt("return");case 6:if(x===N){e.next=11;break}return S("Passwords Do Not Match."),f(""),g(""),e.abrupt("return");case 11:return P(!0),s={username:r,password:x},e.next=15,Promise.resolve((a=s,fetch("".concat(u,"/user/create"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"}}).then((function(e){return e.json()}))));case 15:if(n=e.sent,P(!1),!n.err){e.next=22;break}return S(n.err),e.abrupt("return");case 22:localStorage.setItem("user",JSON.stringify(n.user)),t(n.user),A.push("/project");case 25:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{children:[D?Object(s.jsx)(O,{}):null,Object(s.jsxs)("div",{className:"sign-in-div",children:[Object(s.jsx)("div",{className:"sign-in-text",children:Object(s.jsxs)("p",{children:["Sign up for ",Object(s.jsx)("span",{children:"Too-Doo"})]})}),Object(s.jsxs)("form",{className:"sign-in-form",onSubmit:J,children:[Object(s.jsx)("label",{className:"sign-in-form-text",children:" Username: "}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",className:"sign-in-form-input",autoComplete:"off",name:"username",value:r,onChange:function(e){return i(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{className:"sign-in-form-text",children:"Password:"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",className:"sign-in-form-input",autoComplete:"off",name:"password",value:x,onChange:function(e){return f(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{className:"sign-in-form-text",children:"Confirm Password:"})," ",Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",className:"sign-in-form-input",autoComplete:"off",name:"confirmPassword",value:N,onChange:function(e){return g(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"sign-in-form-submit button",type:"submit",value:"Create Account"})]}),Object(s.jsx)("span",{style:{color:"red"},children:k||null}),Object(s.jsxs)("p",{className:"no-account-text",children:["Already have an account?"," ",Object(s.jsx)(o.b,{className:"sign-up-link",to:"/user/signin",children:"Sign In"})]})]})]})},h=(c(33),function(e){var t=e.project,c=e.setPDelete,n=e.setProjToDelete;return Object(s.jsxs)("div",{className:"project mw700 df-row df-space-between",children:[Object(s.jsxs)("div",{className:"project-information",children:[Object(s.jsxs)("p",{className:"project-title",children:[t.title," ",Object(s.jsx)("span",{className:"project-description",children:t.description})]}),Object(s.jsxs)("p",{className:"project-tasks",children:[t.tasks.length," Tasks"]})]}),Object(s.jsxs)("div",{className:"df-row",children:[Object(s.jsx)("div",{className:"project-link",children:Object(s.jsx)(o.b,{to:"/project/".concat(t._id),children:"View"})}),Object(s.jsx)("div",{className:"project-link",children:Object(s.jsx)("p",{href:"#",className:"project-link",onClick:function(){c(!0),n(t)},children:"Delete"})})]})]})}),v=function(e){var t=e.projToDelete,c=e.setPDelete,n=Object(j.g)(),a=t._id,r=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Promise.resolve((c=a,void fetch("".concat(u,"/projects/").concat(c,"/delete"),{method:"post",headers:{"Content-Type":"application/json"}})));case 3:setTimeout((function(){n.push("/project")}),1e3);case 4:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"delete-modal df-col",children:Object(s.jsx)("div",{className:"delete-modal-content",children:Object(s.jsxs)("form",{onSubmit:r,children:[Object(s.jsx)("label",{className:"delete-modal-label",children:"Are you Sure you want to delete this project?"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"delete-modal-button-container df-row",children:[Object(s.jsx)("input",{className:"delete-modal-button button",type:"submit",value:"Yes"}),Object(s.jsx)("input",{className:"delete-modal-button button",type:"button",value:"Cancel",onClick:function(){return c(!1)}})]})]})})})},N=function(e){var t=e.user,c=e.setPCreate,a=Object(j.g)(),r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],u=i[1],d=Object(n.useState)(""),O=Object(l.a)(d,2),x=O[0],f=O[1],h=function(){var e=Object(m.a)(p.a.mark((function e(s){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),n={title:o,description:x},e.next=4,Promise.resolve(b(n,t));case 4:c(!1),setTimeout((function(){return a.push("/project")}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"create-modal",children:Object(s.jsxs)("div",{className:"create-modal-content",children:[Object(s.jsx)("div",{className:"create-modal-exit",onClick:function(){return c(!1)},children:"X"}),Object(s.jsx)("div",{className:"create-modal-title",children:"Create New Project"}),Object(s.jsxs)("form",{onSubmit:h,children:[Object(s.jsx)("label",{className:"sign-in-form-text",children:"Title"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-input",type:"text",onChange:function(e){return u(e.target.value)},value:o}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{className:"sign-in-form-text",children:"Description "}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-input",type:"text",onChange:function(e){return f(e.target.value)},value:x}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-submit button",type:"submit",value:"Create"})]})]})})},g=function(e,t,c,a){var r=Object(n.useState)(null),i=Object(l.a)(r,2),o=i[0],j=i[1];Object(n.useEffect)((function(){(function(){var c=Object(m.a)(p.a.mark((function c(){return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t(!0),c.t0=j,c.next=4,Promise.resolve((s=e,fetch("".concat(u,"/projects"),{method:"get",headers:{"Content-Type":"application/json","user-token":s.token}}).then((function(e){return e.json()}))));case 4:c.t1=c.sent,(0,c.t0)(c.t1),t(!1);case 7:case"end":return c.stop()}var s}),c)})));return function(){return c.apply(this,arguments)}})()()}),[]);var b=[];for(var d in o)b.push(Object(s.jsx)(h,{project:o[d],setPDelete:c,setProjToDelete:a},d));return b},y=function(e){var t=e.user,c=Object(n.useState)(!1),a=Object(l.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(!1),j=Object(l.a)(o,2),u=j[0],b=j[1],d=Object(n.useState)(null),p=Object(l.a)(d,2),m=p[0],x=p[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),y=h[0],w=h[1],k=g(t,i,b,x);return Object(s.jsxs)("div",{className:"view-container",children:[r?Object(s.jsx)(O,{}):null,Object(s.jsxs)("div",{className:"df-col",children:[Object(s.jsxs)("div",{className:"header mw700 df-row df-space-between",children:[Object(s.jsxs)("div",{className:"user-info",children:[Object(s.jsxs)("p",{className:"welcome-text",children:["Hello ",t.username,"!"]}),Object(s.jsxs)("p",{className:"project-number",children:["You have ",k?k.length:0," project(s)"]})]}),Object(s.jsx)("div",{className:"create-project-button",onClick:function(){w(!0)},children:Object(s.jsx)("p",{children:"Create New Project"})})]}),u?Object(s.jsx)(v,{projToDelete:m,setPDelete:b}):null,y?Object(s.jsx)(N,{user:t,setPCreate:w}):null,Object(s.jsx)("div",{className:"df-col ",children:k})]})]})},w=(c(34),function(e){var t=e.task,c=e.setTaskDelete,a=e.setTaskToDelete,r=Object(n.useState)(t.completed),i=Object(l.a)(r,2),o=i[0],j=i[1],b=function(){var e;e=t,fetch("".concat(u,"/task/").concat(e._id,"/update"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})};return Object(s.jsxs)("div",{className:" task df-row",children:[Object(s.jsxs)("div",{className:"section-1 df-row",children:[Object(s.jsx)("input",{className:"task-checkbox",type:"checkbox",checked:o,onChange:function(){t.completed=!t.completed,j(t.completed),b()}}),Object(s.jsx)("div",{className:"".concat(o?"completed":null," task-desc"),children:t.description})]}),Object(s.jsxs)("div",{className:"section-2 df-row",children:[Object(s.jsxs)("div",{className:"".concat(t.priority," priority df-row"),children:[t.priority," Priority"]}),Object(s.jsx)("div",{className:"project-link",style:{width:"40%",paddingLeft:"1em",textAlign:"right",marginRight:"0"},children:Object(s.jsx)("p",{href:"#",className:"project-link",onClick:function(){c(!0),a(t)},children:"Delete"})})]})]})}),k=function(e){var t=e.projid,c=e.setTCreate,a=Object(j.g)(),r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],b=i[1],d=Object(n.useState)(""),O=Object(l.a)(d,2),x=O[0],f=O[1],h=function(){var e=Object(m.a)(p.a.mark((function e(c){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),s={description:o,priority:x,project:t},e.next=4,Promise.resolve((n=s,void fetch("".concat(u,"/task/").concat(n.project,"/create"),{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})));case 4:setTimeout((function(){return a.push("/project/".concat(t))}),1e3);case 5:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"create-modal",children:Object(s.jsxs)("div",{className:"create-modal-content",children:[Object(s.jsx)("div",{className:"create-modal-exit",onClick:function(){return c(!1)},children:"X"}),Object(s.jsx)("div",{className:"create-modal-title",children:"Create New Task"}),Object(s.jsxs)("form",{onSubmit:h,children:[Object(s.jsx)("label",{className:"sign-in-form-text",children:"Description"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-input",type:"text",name:"description",value:o,onChange:function(e){b(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{onChange:function(e){f(e.target.value)},children:[Object(s.jsx)("div",{className:"priority-label",children:"Priority"}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{className:"create-modal-radio-label",children:[Object(s.jsx)("input",{className:"create-modal-radio",type:"radio",name:"priority",value:"Low"}),"Low"]}),Object(s.jsxs)("label",{className:"create-modal-radio-label",children:[Object(s.jsx)("input",{className:"create-modal-radio",type:"radio",name:"priority",value:"Medium"}),"Medium"]}),Object(s.jsxs)("label",{className:"create-modal-radio-label",children:[Object(s.jsx)("input",{className:"create-modal-radio",type:"radio",name:"priority",value:"High"}),"High"]})]}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"create-modal-submit button task-create-submit",type:"submit",value:"Add"})]})]})})},S=function(e){var t=e.taskToDelete,c=e.setTaskDelete,n=Object(j.g)(),a=Object(j.i)().url,r=t._id,i=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Promise.resolve((s=r,void fetch("".concat(u,"/task/").concat(s,"/delete"),{method:"post",headers:{"Content-Type":"application/json"}})));case 3:setTimeout((function(){c(!1),n.push(a)}),500);case 4:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"delete-modal df-col",children:Object(s.jsx)("div",{className:"delete-modal-content",children:Object(s.jsxs)("form",{onSubmit:i,children:[Object(s.jsx)("label",{className:"delete-modal-label",children:"Are you Sure you want to delete this task?"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"delete-modal-button-container df-row",children:[Object(s.jsx)("input",{className:"delete-modal-button button",type:"submit",value:"Yes"}),Object(s.jsx)("input",{className:"delete-modal-button button",type:"button",value:"Cancel",onClick:function(){return c(!1)}})]})]})})})},C=function(e,t){var c=Object(n.useState)(null),s=Object(l.a)(c,2),a=s[0],r=s[1];return Object(n.useEffect)((function(){(function(){var c=Object(m.a)(p.a.mark((function c(){return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(s=e,fetch("".concat(u,"/projects/").concat(s,"/getproject"),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))).then((function(e){t(!0),r(e),t(!1)}));case 2:case"end":return c.stop()}var s}),c)})));return function(){return c.apply(this,arguments)}})()()}),[e,t]),a},T=function(e,t,c,n){if(e){var a=[];for(var r in e.tasks=D(e.tasks,t),e.tasks)a.push(Object(s.jsx)(w,{task:e.tasks[r],setTaskDelete:c,setTaskToDelete:n},r));return a}},D=function(e,t){return e.sort((function(e,c){return"High"!==e.priority||"Low"!==c.priority&&"Medium"!==c.priority?"Low"!==e.priority||"High"!==c.priority&&"Medium"!==c.priority?"Medium"===e.priority&&"High"===c.priority?1===t?1:-1:"Medium"===e.priority&&"Low"===c.priority?1===t?-1:1:0:1===t?1:-1:1===t?-1:1})),e},P=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(1),i=Object(l.a)(r,2),o=i[0],u=i[1],b=Object(n.useState)(!1),d=Object(l.a)(b,2),p=d[0],m=d[1],x=Object(n.useState)(null),f=Object(l.a)(x,2),h=f[0],v=f[1],N=Object(n.useState)(!1),g=Object(l.a)(N,2),y=g[0],w=g[1],P=Object(j.h)().projid,A=C(P,a),J=T(A,o,m,v),L=Object(j.g)();return c?Object(s.jsx)(O,{}):Object(s.jsxs)("div",{className:"view-container",children:[y?Object(s.jsx)(k,{setTCreate:w,projid:P}):null,Object(s.jsx)("div",{className:"project-view-top",children:Object(s.jsxs)("div",{className:"df-row df-space-between mw700 center",children:[Object(s.jsx)("div",{className:"df-row ",children:Object(s.jsx)("i",{onClick:function(){L.push("/project")},className:"fas fa-arrow-left fa-3x toparrow"})}),Object(s.jsxs)("div",{className:"df-col",children:[Object(s.jsx)("p",{className:"project-view-project-title",children:A.title})," ",Object(s.jsx)("p",{className:"project-view-project-description",children:A.description})]}),Object(s.jsx)("div",{})]})}),Object(s.jsxs)("div",{className:"project-view-task-body mw700 df-col",children:[Object(s.jsxs)("div",{className:"task-body-top df-row df-space-between",children:[Object(s.jsxs)("div",{className:"section-1",children:[Object(s.jsx)("span",{className:"task-body-top-title",children:"Too-Doo Tasks"})," ",Object(s.jsxs)("span",{className:"task-body-top-count",children:["(",A.tasks.length," Tasks)"]})]}),Object(s.jsxs)("div",{className:"section-2 df-row",style:{alignItems:"flex-end"},children:[Object(s.jsxs)("div",{className:"sort-div",onClick:function(){u(1===o?-1:1),D(J,o)},children:["Sort By ",Object(s.jsx)("i",{className:"fas fa-sort"})]}),Object(s.jsx)("div",{style:{width:"fit-content",marginRight:"1em",marginBottom:".5em"},children:Object(s.jsx)("div",{className:"create-project-button",onClick:function(){return w(!0)},children:Object(s.jsx)("p",{children:"New Task"})})})]})]}),p?Object(s.jsx)(S,{setTaskDelete:m,taskToDelete:h}):null,Object(s.jsx)("div",{className:"task-container",children:J})]})]})},A=function(e){var t=e.user,c=(e.setProjects,Object(j.g)());return Object(s.jsxs)("div",{className:"main-container",children:[Object(s.jsx)("div",{className:"top-bar df-row",children:Object(s.jsxs)("div",{className:"topbar-content-container mw700 df-row df-space-between",children:[Object(s.jsx)("div",{children:"Too-Doo"}),Object(s.jsxs)("div",{className:"topbar-logout",onClick:function(){localStorage.clear(),c.push("/signin")},children:["Log Out ",Object(s.jsx)("i",{className:"fas fa-sign-out-alt"})]})]})}),Object(s.jsx)("div",{className:"df-col",children:Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"/project",exact:!0,component:function(){return Object(s.jsx)(y,{user:t})}}),Object(s.jsx)(j.b,{path:"/project/:id/delete",exact:!0,component:function(){return Object(s.jsx)(v,{})}}),Object(s.jsx)(j.b,{path:"/project/:projid",exact:!0,component:function(){return Object(s.jsx)(P,{})}})]})})]})},J=(c(35),function(){var e=Object(n.useState)(function(){try{return JSON.parse(localStorage.getItem("user"))}catch(e){return{err:e}}}()),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),i=Object(l.a)(r,2),o=(i[0],i[1]);return Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"/user/signin",exact:!0,component:function(){return Object(s.jsx)(x,{setUser:a})}}),Object(s.jsx)(j.b,{path:"/user/signup",exact:!0,component:function(){return Object(s.jsx)(f,{setUser:a})}}),Object(s.jsx)(j.b,{path:"/project",component:function(){return Object(s.jsx)(A,{user:c,setProjects:o})}}),Object(s.jsx)(j.a,{from:"/",to:"/user/signin"})]})});i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(o.a,{children:Object(s.jsx)(J,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.6d3747f2.chunk.js.map